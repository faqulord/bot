<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titkos Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* --- PROFI DESIGN (Cyberpunk/Dark Style) --- */
        :root {
            --bg-color: #0f0f12;
            --card-bg: #1c1c22;
            --primary: #00ff88; /* Neon z√∂ld */
            --text: #ffffff;
            --text-sec: #8b8b95;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: 80px; /* Hely az als√≥ men√ºnek */
            user-select: none;
        }

        /* FELS≈ê S√ÅV */
        .header {
            background: rgba(28, 28, 34, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #333;
        }
        .user-info { font-weight: bold; font-size: 14px; }
        .balance { 
            background: rgba(0, 255, 136, 0.1); 
            color: var(--primary); 
            padding: 5px 12px; 
            border-radius: 20px; 
            font-weight: bold;
            font-size: 14px;
        }

        /* TARTALOM */
        .container { padding: 15px; }
        
        h2 { font-size: 18px; margin-bottom: 15px; color: var(--text-sec); text-transform: uppercase; letter-spacing: 1px;}

        /* TERM√âK K√ÅRTY√ÅK */
        .product-card {
            background: var(--card-bg);
            border-radius: 16px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.1s;
        }
        .product-card:active { transform: scale(0.98); }
        
        .card-img {
            width: 100%;
            height: 140px;
            background: linear-gradient(45deg, #333, #444); /* Placeholder k√©p helyett */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }
        
        .card-body { padding: 15px; }
        .card-title { font-size: 16px; font-weight: bold; margin-bottom: 5px; }
        .card-desc { font-size: 12px; color: var(--text-sec); margin-bottom: 10px; }
        .card-row { display: flex; justify-content: space-between; align-items: center; }
        .price { font-size: 16px; font-weight: bold; color: var(--primary); }
        
        .btn-buy {
            background: var(--primary);
            color: #000;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
        }

        /* ALS√ì MEN√ú */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            border-top: 1px solid #333;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }
        .nav-item {
            color: var(--text-sec);
            text-align: center;
            font-size: 10px;
            flex: 1;
        }
        .nav-item.active { color: var(--primary); }
        .nav-icon { font-size: 20px; display: block; margin-bottom: 4px; }

        /* OLDALAK KEZEL√âSE */
        .page { display: none; }
        .page.active { display: block; }

        /* T√ÅRCA OLDAL */
        .wallet-box {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        .wallet-amount { font-size: 32px; font-weight: 800; margin: 10px 0; }
        .btn-deposit {
            width: 100%;
            background: #333;
            color: #fff;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid #444;
            font-size: 16px;
            margin-bottom: 10px;
        }

    </style>
</head>
<body>

    <div class="header">
        <div class="user-info" id="username">Felhaszn√°l√≥</div>
        <div class="balance">üí∞ <span id="balance">0</span> Ft</div>
    </div>

    <div id="page-shop" class="page active container">
        <h2>Aktu√°lis Csomagok</h2>
        
        <div class="product-card">
            <div class="card-img">üì¶</div>
            <div class="card-body">
                <div class="card-title">Bronz Mystery Box</div>
                <div class="card-desc">V√©letlenszer≈± helysz√≠n a belv√°rosban. K√∂nny≈± megtal√°lni.</div>
                <div class="card-row">
                    <span class="price">5,000 Ft</span>
                    <button class="btn-buy" onclick="buyItem('Bronz', 5000)">MEGVESZ</button>
                </div>
            </div>
        </div>

        <div class="product-card">
            <div class="card-img">ü•à</div>
            <div class="card-body">
                <div class="card-title">Ez√ºst Csomag</div>
                <div class="card-desc">Nehezebb rejtv√©ny, nagyobb √©rt√©k≈± tartalom.</div>
                <div class="card-row">
                    <span class="price">15,000 Ft</span>
                    <button class="btn-buy" onclick="buyItem('Ez√ºst', 15000)">MEGVESZ</button>
                </div>
            </div>
        </div>

        <div class="product-card">
            <div class="card-img">ü•á</div>
            <div class="card-body">
                <div class="card-title">Arany Pr√©mium</div>
                <div class="card-desc">Exkluz√≠v helysz√≠n + Extra aj√°nd√©k. Csak profiknak.</div>
                <div class="card-row">
                    <span class="price">30,000 Ft</span>
                    <button class="btn-buy" onclick="buyItem('Arany', 30000)">MEGVESZ</button>
                </div>
            </div>
        </div>
    </div>

    <div id="page-wallet" class="page container">
        <h2>P√©nzt√°rc√°m</h2>
        <div class="wallet-box">
            <div>Egyenleged</div>
            <div class="wallet-amount"><span id="wallet-display">0</span> Ft</div>
            <div style="font-size: 12px; opacity: 0.8;">Friss√≠tve: √âpp most</div>
        </div>
        
        <h3>Felt√∂lt√©s</h3>
        <button class="btn-deposit" onclick="Telegram.WebApp.showAlert('Utalj kript√≥t erre a c√≠mre: 0x123... (Ez csak DEMO)')">
            üíé Kripto Felt√∂lt√©s
        </button>
        <button class="btn-deposit" onclick="Telegram.WebApp.showAlert('K√©rj k√≥dot az admint√≥l!')">
            üéüÔ∏è Kupon Bev√°lt√°s
        </button>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchPage('shop', this)">
            <span class="nav-icon">üõí</span>
            Shop
        </div>
        <div class="nav-item" onclick="switchPage('wallet', this)">
            <span class="nav-icon">üí≥</span>
            T√°rca
        </div>
        <div class="nav-item" onclick="Telegram.WebApp.showAlert('Nincsenek m√©g rendel√©seid!')">
            <span class="nav-icon">üì¶</span>
            Rendel√©sek
        </div>
    </div>

    <script>
        // Telegram inicializ√°l√°s
        const tg = window.Telegram.WebApp;
        tg.expand(); // Teljes k√©perny≈ë

        // Adatok (DEMO)
        let userBalance = 50000; // Kezd≈ë p√©nz (Demo)
        
        // Megjelen√≠t√©s
        document.getElementById('username').innerText = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.first_name : 'Vend√©g';
        updateBalance();

        function updateBalance() {
            document.getElementById('balance').innerText = userBalance.toLocaleString();
            document.getElementById('wallet-display').innerText = userBalance.toLocaleString();
        }

        // Oldal v√°lt√°s
        function switchPage(pageId, element) {
            // Minden oldal elrejt√©se
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            
            // Kiv√°lasztott megjelen√≠t√©se
            document.getElementById('page-' + pageId).classList.add('active');
            element.classList.add('active');
        }

        // V√°s√°rl√°s funkci√≥
        function buyItem(name, price) {
            if (userBalance >= price) {
                tg.showConfirm(`Biztosan megveszed ezt: ${name}?`, function(confirmed) {
                    if (confirmed) {
                        userBalance -= price;
                        updateBalance();
                        // Itt k√ºldhetn√©nk adatot a Botnak, hogy k√ºldje a helysz√≠nt
                        tg.showAlert(`Sikeres v√°s√°rl√°s! A koordin√°t√°kat elk√ºldt√ºk a chatben.`);
                        
                        // Opcion√°lis: Bez√°rhatjuk az ablakot, vagy √ºzenetet k√ºldhet√ºnk a botnak
                        tg.sendData(JSON.stringify({item: name, price: price}));
                    }
                });
            } else {
                tg.showAlert("Nincs el√©g p√©nzed! T√∂ltsd fel a t√°rc√°dat.");
            }
        }
    </script>
</body>
</html>