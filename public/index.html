<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SkyShop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* --- ALAP BE√ÅLL√çT√ÅSOK --- */
        :root {
            --bg-color: #0d1117;
            --card-bg: #161b22;
            --blue-gradient: linear-gradient(135deg, #2b5876 0%, #4e4376 100%);
            --sky-blue: #3b82f6;
            --text-main: #ffffff;
            --text-sec: #8b949e;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: 90px; /* Hely az als√≥ men√ºnek */
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- BIZTONS√ÅGI BLOKKOL√ì (Ha nem Telegram) --- */
        #blocker-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: black;
            color: red;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 9999;
            text-align: center;
        }
        .hidden { display: none !important; }

        /* --- ST√çLUSOK (SkyHigh Design) --- */
        
        /* 1. K√âK EGYENLEG K√ÅRTYA */
        .wallet-card {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            margin: 15px;
            padding: 20px;
            border-radius: 20px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
        }
        /* D√≠sz√≠t≈ë elem a h√°tt√©rben */
        .wallet-card::after {
            content: '';
            position: absolute;
            top: -20px; right: -20px;
            width: 150px; height: 150px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        
        .card-header { font-size: 12px; opacity: 0.9; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .balance-huge { font-size: 36px; font-weight: 800; margin: 10px 0; }
        .card-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; font-size: 13px; opacity: 0.9; }

        /* 2. BEFIZET√âS SZEKCI√ì */
        .section-title {
            margin: 20px 15px 10px 15px;
            font-size: 14px;
            color: var(--text-sec);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-box {
            background: var(--card-bg);
            margin: 0 15px;
            padding: 15px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #30363d;
        }
        .crypto-address {
            font-family: monospace;
            font-size: 14px;
            color: var(--text-main);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80%;
        }
        .copy-btn {
            background: #21262d;
            border: 1px solid #30363d;
            color: var(--sky-blue);
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
        }

        /* 3. MONITORING (Figyel≈ë) */
        .monitor-box {
            background: var(--card-bg);
            margin: 15px;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid #30363d;
        }
        .monitor-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .status-badge {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981; /* Z√∂ld */
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .spinner {
            width: 10px; height: 10px;
            border: 2px solid #10b981;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* 4. TERM√âKEK (Ha a Shop f√ºl√∂n vagyunk) */
        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 15px;
        }
        .product-item {
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            text-align: center;
        }
        .p-img { height: 100px; background: #21262d; display: flex; align-items: center; justify-content: center; font-size: 30px;}
        .p-info { padding: 10px; }
        .btn-buy-sm {
            background: var(--sky-blue);
            color: white;
            border: none;
            width: 100%;
            padding: 8px;
            border-radius: 6px;
            margin-top: 5px;
            font-weight: bold;
        }

        /* 5. ALS√ì MEN√ú (Fixed Bottom Nav) */
        .bottom-nav {
            position: fixed;
            bottom: 0; left: 0; width: 100%;
            background: #0d1117;
            border-top: 1px solid #30363d;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            padding-bottom: 20px; /* iPhone home bar miatt */
            z-index: 100;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-sec);
            font-size: 10px;
            gap: 4px;
        }
        .nav-item i { font-size: 20px; margin-bottom: 2px; }
        .nav-item.active { color: var(--sky-blue); }

        /* OLDAL V√ÅLT√ÅS */
        .page { display: none; animation: fadeIn 0.2s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <div id="blocker-screen">
        <h1 style="font-size: 50px;">üö´</h1>
        <h2>HOZZ√ÅF√âR√âS MEGTAGADVA</h2>
        <p>Ez az oldal csak Telegramr√≥l √©rhet≈ë el.</p>
    </div>

    <div id="app-content" class="hidden">
        
        <div id="page-wallet" class="page active">
            
            <div class="wallet-card">
                <div class="card-header">
                    <i class="fas fa-credit-card"></i> SAJ√ÅT EGYENLEG
                </div>
                <div class="balance-huge">
                    <span id="balance-display">0</span> HUF
                </div>
                <div class="card-footer">
                    <span>El√©rhet≈ë</span>
                    <span>ID: <span id="user-id">...</span></span>
                </div>
            </div>

            <div class="section-title">
                <i class="fas fa-wallet"></i> LITECOIN (LTC) BEFIZET√âS
            </div>
            <div style="font-size: 12px; color: #8b949e; margin: 0 15px 10px 15px;">
                Csak LTC-t k√ºldj erre a c√≠mre! M√°s eszk√∂z elveszik.
            </div>

            <div class="input-box">
                <div class="crypto-address" id="ltc-address">ltc1qa0pvhw5dhz05zp5as... (DEMO)</div>
                <div class="copy-btn" onclick="copyAddress()">
                    <i class="far fa-copy"></i>
                </div>
            </div>

            <div class="section-title">
                <i class="fas fa-satellite-dish"></i> BEFIZET√âS FIGYEL≈ê
            </div>
            <div class="monitor-box">
                <div class="monitor-row">
                    <span style="font-size: 12px; color: #8b949e;">√Ållapot:</span>
                    <div class="status-badge">
                        <div class="spinner"></div> FIGYEL√âS AKT√çV
                    </div>
                </div>
                <div style="font-size: 13px; margin-top: 5px;">
                    LTC √°rfolyam: <span style="color: #10b981;">34,500 HUF</span>
                </div>
                <div style="font-size: 10px; color: #8b949e; margin-top: 5px;">
                    Utols√≥ friss√≠t√©s: √âpp most
                </div>
            </div>

        </div>

        <div id="page-shop" class="page">
            <div class="section-title">TERM√âKEK</div>
            <div class="product-grid">
                <div class="product-item">
                    <div class="p-img">üì¶</div>
                    <div class="p-info">
                        <div style="font-weight:bold; font-size:13px;">Mystery Box</div>
                        <div style="color:#10b981; font-weight:bold;">5,000 Ft</div>
                        <button class="btn-buy-sm" onclick="alert('Nincs el√©g egyenleged!')">V√ÅS√ÅRL√ÅS</button>
                    </div>
                </div>
                <div class="product-item">
                    <div class="p-img">üìç</div>
                    <div class="p-info">
                        <div style="font-weight:bold; font-size:13px;">GPS Drop</div>
                        <div style="color:#10b981; font-weight:bold;">15,000 Ft</div>
                        <button class="btn-buy-sm" onclick="alert('Nincs el√©g egyenleged!')">V√ÅS√ÅRL√ÅS</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom-nav">
            <div class="nav-item" onclick="switchPage('shop', this)">
                <i class="fas fa-store"></i> Bolt
            </div>
            <div class="nav-item active" onclick="switchPage('wallet', this)">
                <i class="fas fa-wallet"></i> P√©nzt√°rca
            </div>
            <div class="nav-item">
                <i class="fas fa-gift"></i> Jutalmak
            </div>
            <div class="nav-item">
                <i class="fas fa-newspaper"></i> H√≠rek
            </div>
            <div class="nav-item">
                <i class="fas fa-user"></i> Profil
            </div>
        </div>

    </div>

    <script>
        // TELEGRAM INICIALIZ√ÅL√ÅS
        const tg = window.Telegram.WebApp;
        tg.expand(); 

        // BIZTONS√ÅGI ELLEN≈êRZ√âS (BLOKKOL√ì)
        // Ha nincs Telegram platform, akkor tiltjuk a hozz√°f√©r√©st.
        if (tg.platform === 'unknown' && !tg.initData) {
            // Ez egy b√∂ng√©sz≈ë (vagy nincs telegram adat) -> Hagyjuk a blokkol√≥t
        } else {
            // Ez Telegram -> Elt√ºntetj√ºk a blokkol√≥t √©s mutatjuk az Appot
            document.getElementById('blocker-screen').classList.add('hidden');
            document.getElementById('app-content').classList.remove('hidden');
        }

        // ADATOK BE√ÅLL√çT√ÅSA
        document.getElementById('user-id').innerText = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.id : 'GUEST';
        
        // C√çM M√ÅSOL√ÅSA
        function copyAddress() {
            const text = document.getElementById('ltc-address').innerText;
            navigator.clipboard.writeText(text).then(() => {
                tg.showAlert("C√≠m m√°solva!");
            });
        }

        // MEN√ú V√ÅLT√ÅS
        function switchPage(pageId, btn) {
            // Minden oldalt elrejt
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            
            // Kiv√°lasztottat mutat
            document.getElementById('page-' + pageId).classList.add('active');
            btn.classList.add('active');
        }

    </script>
</body>
</html>